{
    "contents" : "---\ntitle: \"Reproducible Research: Peer Assessment 1\"\noutput: \n  html_document:\n    keep_md: true\n---\n\n\n## Loading and preprocessing the data\n\n\nThis process included the following steps:\n\n\n * Importing from user specified csv file to data. \n * Converting dates from string to date format.\n * Storing poisitions of missing values in a logical vector \"dirty\" \n * Storing all non missing rows in cleanData\n\n```{r}\ndata <- read.csv(file.choose(),header=TRUE, sep=\",\", na.strings=\"NA\")\ndata[,\"date\"] <- as.Date(as.character(data[,\"date\"]), \"%Y-%m-%d\")\ndirty = is.na(data[,\"steps\"])\ncleanData <- data[!dirty, ]\n```\n\n\n\n\n## What is mean total number of steps taken per day?\nIn order to find the mean of daily total of steps, number of steps were to be summed up according to the dates.\nFollowing that it was represented as a histogram:\n\n```{r}\n\ndailyStepSum <- aggregate(steps~date,cleanData,sum)\nhist(dailyStepSum[,\"steps\"], col=\"blue\", main=\"Daily Total of the Steps\", xlab=\"Total Steps/Day\")\n\noptions(scipen=999) # the mean looks weird in scientific notation!\n\ncleanMean = mean(dailyStepSum[,\"steps\"])\ncleanMedian = median(dailyStepSum[,\"steps\"])\n\n```\nThe mean and median were found out to be `r cleanMean` and `r cleanMedian` respectively.\n\n\n\n## What is the average daily activity pattern?\n\nThe average daily pattern was obtaied by by first generating the aggregate values of mean for every interval and finally plotting them againt the intervals they belong to.\n\n```{r}\n\n#Mean and Median values are computed for each interval:\nintervalStepMean = aggregate(steps~interval, cleanData, mean)\nintervalStepMedian= aggregate(steps~interval, cleanData, median)\n\n#Required plot is generated\nplot(intervalStepMean[,\"interval\"], intervalStepMean[,\"steps\"], type=\"l\",xlab=\"Intervals\", ylab=\"Average Steps\", main= \"Average Steps for each Interval (Across all days)\")\n\n#Maximum average (row) is found.\nmaxStepInterval= intervalStepMean[ intervalStepMean[,\"steps\"]== max(intervalStepMean[,\"steps\"]) , ]\n\n```\n\nThe maximum interval was `r maxStepInterval[,\"interval\"]` with the corresponding average value of `r maxStepInterval[,\"steps\"]`.\n\n\n\n\n\n## Imputing missing values\n\n   In order to make a simplified, yet reasonable guess about what the missing values could've been,\n   interval aggregates have been used. It should be noted that the number of steps is strictly an integer type value.\n   Therefore substitution by means (which need not be integers) has been avoided.\n   Median values for the intervals were used to substitute the missing number of steps. \n\n```{r}\n\nimputedData = data\n\n#Following function returns interval median steps for input interval \nmedianVal= function(x){ intervalStepMedian[intervalStepMedian[,\"interval\"]==x,\"steps\"]}\n\n\nimputedData[dirty,\"steps\"] = sapply(data[dirty,\"interval\"],medianVal )\n\n#If median values were to be assigned directly, they would've automatically been cycled according to the \"intervals\"\"\n#However, that logic would not be applicable if more columns were present for cycling while the above logic should still work!\n\n\n\nnewDailyStepSum <- aggregate(steps~date,imputedData,sum)\nhist(newDailyStepSum[,\"steps\"], col=\"green\", main=\"Daily Total of the Steps\", xlab=\"Total Steps/Day\")\n\nnewMean = mean(newDailyStepSum[,\"steps\"])\nnewMedian = median(newDailyStepSum[,\"steps\"])\n\n\n```\n\n\n\n\n\n### Consequences of the Substitutions\n\nAs one would expect, the mean value changed from `r cleanMean` to\n`r newMean`. However, there was also a change in the median from `r cleanMedian` to `r newMedian` as the basis of substitutions\nwas the median values of \"interval\", not the median value of Daily total of \"steps\" !\n\n## Are there differences in activity patterns between weekdays and weekends?\n\nIn order to figure out the differences in patterns between weekdays and weekends, a logical vector (indicating weekend/not) was created.\nThe corresponding cross-plot was then generated.\n```{r}\n#function for sapply which returns TRUE/FALSE:\nisWeekEnd = function(x){ rtrn = weekdays(x)==\"Saturday\"  || weekdays(x)== \"Sunday\" }\n\n#Logical Vector:\nWeekEnd = sapply(imputedData[,\"date\"], isWeekEnd)\n\n#Aggregated Values:\nweekendIntervalMean= aggregate(steps~interval, imputedData[WeekEnd,], mean)\nweekdayIntervalMean= aggregate(steps~interval, imputedData[!WeekEnd,], mean)\n\n\n#Plot\n\nplot(weekdayIntervalMean[,\"interval\"],weekdayIntervalMean[,\"steps\"],col=\"blue\",ylab=\"Average Steps\",xlab=\"Interval\",type=\"l\")\n\nlines(weekendIntervalMean[,\"interval\"],weekendIntervalMean[,\"steps\"],col=\"red\")\n\nlegend(\"topright\", lty=1, col=c(\"red\",\"blue\"), legend=c(\"Weekend Data\",\"WeekDay Data\") )\n\n```\n\n\n##Findings\n\nIn the study conducted, the subjects were likely to walk more on weekends for most intervals approximately greater than 1000. The trend was opposite for intervals less than that.\nIt may be tempting to state that \"people tend to walk more in longer durations on weekends\", however since more information (like the profession, age group etc.) is not available, this form of data analysis may be too trivail to provide us with such insights. (For example, the step count of an individual whose profession involves a lot of walking could be significantly different.)",
    "created" : 1424009849763.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1328257357",
    "id" : "4947E47B",
    "lastKnownWriteTime" : 1424040867,
    "path" : "C:/Data/Coursera/Current/Data_Science/Reproducible_Research/Projects/Project1/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}